<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Fed Rate Cuts Impact Analysis</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.5.1/dist/chart.min.js"></script>
<style>
    canvas {
        max-width: 800px;
        margin: auto;
    }
</style>
</head>
<body>

<div style="width:80%; margin:20px auto;">
    <canvas id="rateChangeChart"></canvas>
</div>

<div style="width:80%; margin:20px auto;">
    <canvas id="stockPerformanceScatter"></canvas>
</div>

<div style="width:80%; margin:20px auto;">
    <canvas id="drawdownHeatmap"></canvas>
</div>

<div style="width:80%; margin:20px auto;">
    <canvas id="economicIndicators"></canvas>
</div>

<script>
// Assuming we have prepared datasets for each chart
const rateChangeData = {
    labels: ['2020', '2021', '2022', '2023', '2024'],
    datasets: [{
        label: 'Fed Funds Rate',
        data: [2.5, 2.0, 1.5, 1.0, 0.75], // Example data
        borderColor: 'rgb(75, 192, 192)',
        tension: 0.1
    }]
};

const stockPerformanceData = {
    datasets: [{
        label: 'S&P 500 vs Rate Change',
        data: [{x: -0.25, y: 5}, {x: -0.5, y: -2}, {x: 0, y: 10}], // Example data
        backgroundColor: 'rgba(255, 99, 132, 0.2)',
        borderColor: 'rgb(255, 99, 132)',
        pointRadius: 5
    }]
};

const drawdownHeatmapData = {
    labels: ['2020 Cut', '2022 Cut', '2024 Cut'],
    datasets: [{
        label: 'Max Drawdown',
        data: [10, 20, 19], // Example data, should be percentages
        backgroundColor: function(context) {
            const value = context.dataset.data[context.dataIndex];
            return value < 15 ? 'green' : value < 25 ? 'orange' : 'red';
        }
    }]
};

const economicIndicatorsData = {
    labels: rateChangeData.labels,
    datasets: [{
        label: 'Unemployment Rate',
        data: [5, 4.5, 4, 4.3, 4.2], // Example data
        borderColor: 'rgb(54, 162, 235)',
        yAxisID: 'y1'
    }, {
        label: 'Inflation Rate',
        data: [2, 3, 2.5, 2, 2.2], // Example data
        borderColor: 'rgb(255, 99, 132)',
        yAxisID: 'y2'
    }]
};

// Chart configurations
new Chart(document.getElementById('rateChangeChart').getContext('2d'), {
    type: 'line',
    data: rateChangeData,
    options: { 
        plugins: {
            title: {
                display: true,
                text: 'Federal Funds Rate Changes'
            }
        }
    }
});

new Chart(document.getElementById('stockPerformanceScatter').getContext('2d'), {
    type: 'scatter',
    data: stockPerformanceData,
    options: { 
        plugins: {
            title: {
                display: true,
                text: 'Stock Performance vs Rate Cuts'
            }
        }
    }
});

new Chart(document.getElementById('drawdownHeatmap').getContext('2d'), {
    type: 'bar',
    data: drawdownHeatmapData,
    options: { 
        scales: {
            x: { stacked: true },
            y: { display: false }
        },
        plugins: {
            legend: { display: false },
            title: {
                display: true,
                text: 'Maximum Drawdowns Post Rate Cuts'
            }
        }
    }
});

new Chart(document.getElementById('economicIndicators').getContext('2d'), {
    type: 'line',
    data: economicIndicatorsData,
    options: {
        scales: {
            y1: {
                type: 'linear',
                position: 'left',
                title: { display: true, text: 'Unemployment Rate (%)' }
            },
            y2: {
                type: 'linear',
                position: 'right',
                title: { display: true, text: 'Inflation Rate (%)' }
            }
        },
        plugins: {
            title: {
                display: true,
                text: 'Unemployment and Inflation Trends'
            }
        }
    }
});
</script>

</body>
</html>